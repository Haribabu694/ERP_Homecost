<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>New AdjustOrder</title>
<link rel="stylesheet" href="css/NewAdjustOrder.css">
</head>
<body>
<div class="top-header">

</div>
<div class="centralcontainer">
<form id="newAdjustOrderForm" action="#" th:action="@{/Adjsave}" th:object="${adjustOrder}" method="post">

<label class="lblManageorder">Manage Adjust Order</label>
<hr>
<br>
<br>
<span class="required-star">*</span> Item: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text"  th:field="*{item}" class="textbox" th:classappend="${#fields.hasErrors('item')} ? ' field-error' : ''" name="item" placeholder="Enter Item" value="${adjustOrder.item}" th:disabled="${action == 'view'}" ></input>
<span class="error" th:if="${#fields.hasErrors('item')}" th:errors="*{item}"></span>
<br>
<br>
<span class="required-star">*</span>
<label for="warehouse">Warehouse:</label>
<select class="dropdown" th:field="*{warehouse}" 
        th:classappend="${#fields.hasErrors('warehouse')} ? ' field-error' : ''" 
        th:disabled="${action == 'view'}">
    <option value="">--select warehouse--</option>
    <option value="WHO1">WHO1</option>
    <option value="WHO2">WHO2</option>
    <option value="WHO3">WHO3</option>
</select>
<span class="error" th:if="${#fields.hasErrors('warehouse')}" th:errors="*{warehouse}"></span>
<br>
<br>
<span class="required-star">*</span>
<label  for="Bin"> Bin: </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<select class="dropdown" th:field="*{bin}" th:classappend="${#fields.hasErrors('bin')} ? ' field-error' : ''" name="Bin" id="Bin" value="${adjustOrder.bin}" th:disabled="${action == 'view'}" >
<option value="">--select Bin--</option>
<option value="BIN001">BIN001</option>
<option value="BIN002">BIN002</option>
<option value="BIN003">BIN003</option>
<option value="BIN004">BIN004</option>
<option value="BIN005">BIN005</option>
</select>
<span class="error" th:if="${#fields.hasErrors('bin')}" th:errors="*{bin}"></span>
<br>
<br>
<span class="required-star">*</span> Adjust Qty:&nbsp;<input type="number" th:field="*{adjustQuantity}" class="textbox" th:classappend="${#fields.hasErrors('adjustQuantity')} ? ' field-error' : ''" min="3" placeholder="Adjust Quantity" value="${adjustOrder.adjustQuantity}" th:disabled="${action == 'view'}" >
<span class="error" th:if="${#fields.hasErrors('adjustQuantity')}" th:errors="*{adjustQuantity}"></span>
<br>
<br>
Reason:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" th:field="*{reason}" class="textbox" placeholder="Enter Reason" value="${adjustOrder.reason}" th:disabled="${action == 'view'}" ></input>
<br>
<br>
<span class="required-star">*</span>
<label  for="Units"> Units: </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<select class="dropdown" th:field="*{units}" th:classappend="${#fields.hasErrors('units')} ? ' field-error' : ''" name="Units" id="Units" value="${adjustOrder.units}" th:disabled="${action == 'view'}" >
<option value="">--select Units--</option>
<option value="pcs">pcs</option>
<option value="packets">packets</option>
<option value="sets">sets</option>
</select>
<span class="error" th:if="${#fields.hasErrors('units')}" th:errors="*{units}"></span>
<br><br><br>
 
<button type="submit" class="buttons" name="Save" th:disabled="${action == 'view'}" >Save</button>
<a href="/BackAdjdashboard"><button type="button" class="buttons" name="Back">Back</button></a>
<a href="/NewAdjustOrder"><button type="button" class="buttons" name="newButton" th:disabled="${action == 'view'}" >New</button></a>
<button type="button" class="buttons" name="Clear" onclick="clearForm()" th:disabled="${action == 'view'}">Clear</button>

<div th:if="${successMessage}" class="alert-success">
    <p th:text="${successMessage}"></p>
</div>
</form>
<script>
function clearForm() {
    const form = document.getElementById('newAdjustOrderForm');
    form.reset();

    // If using Thymeleaf bindings with `th:field`, also clear error styles if needed
    const errorFields = form.querySelectorAll('.field-error');
    errorFields.forEach(el => el.classList.remove('field-error'));
}
</script>
</div>

<div class="bottom-header">

</div>
</body>
</html>